method = "FE", data = field)
fe_survey = rma.uni(yi = ate_vote, sei = se_vote, weights = N,
method = "FE", data = survey)
fe_field
fe_field
re_field
0.0013*100
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(readxl)
library(metafor)
# Data import - Gallup
meta = read_excel("data/study_results.xlsx")
load(file="data/meta.RData")
################################################################################
# Calculate meta-analytic results
################################################################################
# Calculate confidence intervals for studies with SEs only
meta$ci_lower = with(meta, ifelse(is.na(ci_lower), ate_vote - 1.96*se_vote, ci_lower))
meta$ci_upper = with(meta, ifelse(is.na(ci_upper), ate_vote - 1.96*se_vote, ci_upper))
# Keep field experiments only
field = meta %>%
filter(type == "Field" | type == "Natural") %>%
arrange(ate_vote) %>%
mutate(author_reduced = reorder(author_reduced, -ate_vote))
# Remove Banarjee papers
field = field %>% filter(author_reduced != "Banerjee et al. (2011)" &
author_reduced != "Banerjee et al. (2010)")
# Keep survey experiments only
survey = meta %>%
filter(type == "Survey") %>%
arrange(ate_vote) %>%
mutate(author_reduced = reorder(author_reduced, -ate_vote))
# Random effects model
re_field = rma.uni(yi = ate_vote, sei = se_vote, data = field)
re_survey = rma.uni(yi = ate_vote, sei = se_vote, data = survey)
# Fixed effects model: unweighted
fe_field = rma.uni(yi = ate_vote, sei = se_vote, weighted = "FALSE",
method = "FE", data = field)
fe_survey = rma.uni(yi = ate_vote, sei = se_vote, weighted = "FALSE",
method = "FE", data = survey)
# Fixed effects model: weighted
fe_field = rma.uni(yi = ate_vote, sei = se_vote, weights = N,
method = "FE", data = field)
fe_survey = rma.uni(yi = ate_vote, sei = se_vote, weights = N,
method = "FE", data = survey)
re_field
-0.0030*100
fe_field
-0.0086*100
View(meta)
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(readxl)
library(metafor)
# Data import - Gallup
meta = read_excel("data/study_results.xlsx")
load(file="data/meta.RData")
################################################################################
# Calculate meta-analytic results
################################################################################
# Calculate confidence intervals for studies with SEs only
meta$ci_lower = with(meta, ifelse(is.na(ci_lower), ate_vote - 1.96*se_vote, ci_lower))
meta$ci_upper = with(meta, ifelse(is.na(ci_upper), ate_vote - 1.96*se_vote, ci_upper))
# Keep field experiments only
field = meta %>%
filter(type == "Field" | type == "Natural") %>%
arrange(ate_vote) %>%
mutate(author_reduced = reorder(author_reduced, -ate_vote))
# Remove Banarjee papers
#field = field %>% filter(author_reduced != "Banerjee et al. (2011)" &
#                         author_reduced != "Banerjee et al. (2010)")
# Keep survey experiments only
survey = meta %>%
filter(type == "Survey") %>%
arrange(ate_vote) %>%
mutate(author_reduced = reorder(author_reduced, -ate_vote))
# Random effects model
re_field = rma.uni(yi = ate_vote, sei = se_vote, data = field)
re_survey = rma.uni(yi = ate_vote, sei = se_vote, data = survey)
# Fixed effects model: unweighted
fe_field = rma.uni(yi = ate_vote, sei = se_vote, weighted = "FALSE",
method = "FE", data = field)
fe_survey = rma.uni(yi = ate_vote, sei = se_vote, weighted = "FALSE",
method = "FE", data = survey)
# Fixed effects model: weighted
fe_field = rma.uni(yi = ate_vote, sei = se_vote, weights = N,
method = "FE", data = field)
fe_survey = rma.uni(yi = ate_vote, sei = se_vote, weights = N,
method = "FE", data = survey)
# Normality test
shapiro.test(field$ate_vote)
mean(field$ate_vote)
View(meta)
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
View(meta)
View(field)
View(meta)
table %>% meta = select(year, author, country, ate_vote)
table = meta %>% select(year, author, country, ate_vote)
View(table)
table$author_year = with(table, paste(author, year, sep=" ")
table$author_year = with(table, paste(author, year, sep=" "))
table$author_year = with(table, paste(author, year, sep=" "))
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2
################################################################################
# Keep necessary variables only
table = meta %>% select(year, author, country, ate_vote, type)
table$author_year = with(table, paste(author, year, sep=" "))
table1 = table %>% filter(type == "Field")
View(table1)
table1 = table1 %>% sort(-author_year)
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Keep necessary variables only
table = meta %>% select(year, author, country, ate_vote, type)
# Add author-year variable
table$author_year = with(table, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = table %>% filter(type == "Field")
# Sort alphabetically
table1 = table1 %>% sort(-author_year)
table1 = table1 %>% arrange(desc(author_year))
table1 = table1 %>% arrange(author_year)
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(table, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field")
# Sort alphabetically
table1 = table1 %>% arrange(author_year)
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(table, paste(author, year, sep=" "))
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field")
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field")
# Sort alphabetically
table1 = table1 %>% arrange(author_year)
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field")
# Sort alphabetically
table1 = table1 %>% arrange(author_year)
# Keep necessary variables only
table1 = table1 %>% select(author_year, country, ate_vote)
table1$treatment = NA
table1$treatment[1] = "test"
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field")
# Sort alphabetically
table1 = table1 %>% arrange(author_year)
# Add treatment type
table1$treatment = NA
table1$treatment[1] = "Fliers"
table1$treatment[2] = "Newspaper"
table1$treatment[3] = "Canvas/Newspaper"
table1$treatment[4] = "Fliers"
table1$treatment[5] = "SMS"
table1$treatment[6] = "Fliers"
table1$treatment[7] = "Fliers"
table1$treatment[8] = "Audits"
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field" | type == "Natural")
# Sort alphabetically
table1 = table1 %>% arrange(author_year)
# Add treatment type
table1$treatment = NA
table1$treatment[1] = "Fliers"
table1$treatment[2] = "Newspaper"
table1$treatment[3] = "Canvas/Newspaper"
table1$treatment[4] = "Fliers"
table1$treatment[5] = "SMS"
table1$treatment[6] = "Fliers"
table1$treatment[7] = "Fliers"
table1$treatment[8] = "Audits"
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field" | type == "Natural")
# Sort alphabetically
table1 = table1 %>% arrange(author_year)
# Add treatment type
table1$treatment = NA
table1$treatment[1] = "Fliers"
table1$treatment[2] = "Newspaper"
table1$treatment[3] = "Canvas/Newspaper"
table1$treatment[4] = "Fliers"
table1$treatment[5] = "SMS"
table1$treatment[6] = "SMS"
table1$treatment[7] = "Fliers"
table1$treatment[8] = "Fliers"
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field" | type == "Natural")
# Sort alphabetically
table1 = table1 %>% arrange(author_year)
# Add treatment type
table1$treatment = NA
table1$treatment[1] = "Fliers"
table1$treatment[2] = "Newspaper"
table1$treatment[3] = "Canvas/Newspaper"
table1$treatment[4] = "Fliers"
table1$treatment[5] = "SMS"
table1$treatment[6] = "SMS"
table1$treatment[7] = "Fliers"
table1$treatment[8] = "Fliers"
table1$treatment[9] = "Fliers"
table1$treatment[10] = "Audits"
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field" | type == "Natural")
# Sort alphabetically
table1 = table1 %>% arrange(author_year)
# Add treatment type
table1$treatment = NA
table1$treatment[1] = "Fliers"
table1$treatment[2] = "Newspaper"
table1$treatment[3] = "Canvas/Newspaper"
table1$treatment[4] = "Fliers"
table1$treatment[5] = "SMS"
table1$treatment[6] = "SMS"
table1$treatment[7] = "Fliers"
table1$treatment[8] = "Fliers"
table1$treatment[9] = "Fliers"
table1$treatment[10] = "Audits"
# Keep necessary variables only
table1 = table1 %>% select(author_year, country, treatment, ate_vote)
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
library(stargazer)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field" | type == "Natural")
# Sort alphabetically
table1 = table1 %>% arrange(author_year)
# Add treatment type
table1$treatment = NA
table1$treatment[1] = "Fliers"
table1$treatment[2] = "Newspaper"
table1$treatment[3] = "Canvas/Newspaper"
table1$treatment[4] = "Fliers"
table1$treatment[5] = "SMS"
table1$treatment[6] = "SMS"
table1$treatment[7] = "Fliers"
table1$treatment[8] = "Fliers"
table1$treatment[9] = "Fliers"
table1$treatment[10] = "Audits"
# Keep necessary variables only
table1 = table1 %>% select(author_year, country, treatment, ate_vote)
################################################################################
# Libraries and Import
################################################################################
rm(list=ls())
# Libraries
library(tidyverse)
library(metafor)
library(stargazer)
# Data import
load(file="data/meta_results.RData")
################################################################################
# Create Table 1 and Table 2: General cleaning
################################################################################
# Add author-year variable
meta$author_year = with(meta, paste(author, year, sep=" "))
################################################################################
# Create Table 1: Field experiments
################################################################################
# Keep field experiments only
table1 = meta %>% filter(type == "Field" | type == "Natural")
# Sort alphabetically
table1 = table1 %>% arrange(author_year)
# Add treatment type
table1$treatment = NA
table1$treatment[1] = "Fliers"
table1$treatment[2] = "Newspaper"
table1$treatment[3] = "Canvas/Newspaper"
table1$treatment[4] = "Fliers"
table1$treatment[5] = "SMS"
table1$treatment[6] = "SMS"
table1$treatment[7] = "Fliers"
table1$treatment[8] = "Fliers"
table1$treatment[9] = "Fliers"
table1$treatment[10] = "Audits"
# Keep necessary variables only
table1 = table1 %>% select(author_year, country, treatment, ate_vote)
# Output table
stargazer(table1)
